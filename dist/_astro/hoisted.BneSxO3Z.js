var y="@vercel/speed-insights",b="1.2.0",w=()=>{window.si||(window.si=function(...a){(window.siq=window.siq||[]).push(a)})};function v(){return typeof window<"u"}function S(){try{const e="production"}catch{}return"production"}function h(){return S()==="development"}function L(e){return e.scriptSrc?e.scriptSrc:h()?"https://va.vercel-scripts.com/v1/speed-insights/script.debug.js":e.dsn?"https://va.vercel-scripts.com/v1/speed-insights/script.js":e.basePath?`${e.basePath}/speed-insights/script.js`:"/_vercel/speed-insights/script.js"}function I(e={}){var a;if(!v()||e.route===null)return null;w();const l=L(e);if(document.head.querySelector(`script[src*="${l}"]`))return null;e.beforeSend&&((a=window.si)==null||a.call(window,"beforeSend",e.beforeSend));const s=document.createElement("script");return s.src=l,s.defer=!0,s.dataset.sdkn=y+(e.framework?`/${e.framework}`:""),s.dataset.sdkv=b,e.sampleRate&&(s.dataset.sampleRate=e.sampleRate.toString()),e.route&&(s.dataset.route=e.route),e.endpoint?s.dataset.endpoint=e.endpoint:e.basePath&&(s.dataset.endpoint=`${e.basePath}/speed-insights/vitals`),e.dsn&&(s.dataset.dsn=e.dsn),h()&&e.debug===!1&&(s.dataset.debug="false"),s.onerror=()=>{console.log(`[Vercel Speed Insights] Failed to load script from ${l}. Please check if any content blockers are enabled and try again.`)},document.head.appendChild(s),{setRoute:c=>{s.dataset.route=c??void 0}}}I();window.pageLoadTime=Date.now();document.addEventListener("DOMContentLoaded",()=>{const e=()=>{if(window.innerWidth<=768||/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)){window.location.href="/book";return}const o=document.getElementById("global-exit-intent-modal");o&&!o.classList.contains("hidden")&&(o.classList.remove("opacity-100"),setTimeout(()=>o.classList.add("hidden"),300));const u=document.getElementById("calendar-modal");if(u){u.classList.remove("hidden"),setTimeout(()=>u.classList.add("opacity-100"),10);const f=document.getElementById("ghl-iframe");f&&!f.src&&(console.log("Loading GHL iframe..."),f.src="https://api.leadconnectorhq.com/widget/survey/6RBmf85SJ0IFIO51kKfd",f.id="6RBmf85SJ0IFIO51kKfd")}else console.warn("Calendar modal not found on this page")};["hero-cta-button","header-cta-button","open-calendar-modal-offer","cta-button-main","final-cta-main","final-cta-button-main","global-exit-modal-cta"].forEach(n=>{const o=document.getElementById(n);o&&o.addEventListener("click",u=>{u.preventDefault(),e()})}),document.addEventListener("click",n=>{const o=n.target;o&&o.matches&&(o.matches(".btn-lg")||o.matches('[onclick*="calendar-modal"]'))&&o.onclick&&(n.preventDefault(),e())});const l=()=>{const n=document.getElementById("calendar-modal");n&&(n.classList.remove("opacity-100"),setTimeout(()=>n.classList.add("hidden"),300))},s=document.getElementById("close-calendar-modal");s&&s.addEventListener("click",l),window.addEventListener("keydown",n=>{if(n.key==="Escape"){l();const o=document.getElementById("global-exit-intent-modal");o&&!o.classList.contains("hidden")&&(o.classList.remove("opacity-100"),setTimeout(()=>o.classList.add("hidden"),300),sessionStorage.setItem("globalExitIntentShown","true"))}});const c=document.getElementById("calendar-modal");c&&c.addEventListener("click",n=>{n.target===c&&l()});const i=document.getElementById("global-exit-intent-modal"),m=document.getElementById("close-global-exit-intent");let r=!1;sessionStorage.getItem("globalExitIntentShown")&&(r=!0),m&&i&&m.addEventListener("click",()=>{i.classList.remove("opacity-100"),setTimeout(()=>i.classList.add("hidden"),300),sessionStorage.setItem("globalExitIntentShown","true"),r=!0}),i&&i.addEventListener("click",n=>{n.target===i&&(i.classList.remove("opacity-100"),setTimeout(()=>i.classList.add("hidden"),300),sessionStorage.setItem("globalExitIntentShown","true"),r=!0)}),document.addEventListener("mouseleave",()=>{if(!r&&i&&i.classList.contains("hidden")){const n=document.getElementById("calendar-modal"),o=n&&!n.classList.contains("hidden"),u=(Date.now()-window.pageLoadTime)/1e3;!o&&u>=5&&(i.classList.remove("hidden"),setTimeout(()=>i.classList.add("opacity-100"),10),r=!0,window.spotsManager&&window.spotsManager.updateSpotsWithDate("global-exit-intent-spots"))}});let t=0;window.addEventListener("scroll",()=>{const n=window.pageYOffset||document.documentElement.scrollTop;if(n<t-100&&!r&&i&&i.classList.contains("hidden")){const o=document.getElementById("calendar-modal"),u=o&&!o.classList.contains("hidden"),f=(Date.now()-window.pageLoadTime)/1e3;!u&&f>=5&&(i.classList.remove("hidden"),setTimeout(()=>i.classList.add("opacity-100"),10),r=!0,window.spotsManager&&window.spotsManager.updateSpotsWithDate("global-exit-intent-spots"))}t=n}),window.spotsManager&&window.spotsManager.updateSpotsWithDate("global-exit-intent-spots");const d=document.getElementById("floating-cta-mobile"),p=document.getElementById("floating-cta-link");let g=!1;p&&window.location.pathname==="/method"&&(p.href="#final-methodology-cta",p.addEventListener("click",n=>{n.preventDefault();const o=document.querySelector("section:last-of-type");o&&o.scrollIntoView({behavior:"smooth"})})),d&&window.addEventListener("scroll",()=>{const n=window.scrollY;n>200&&!g?(d.classList.remove("opacity-0","translate-y-20","pointer-events-none"),d.classList.add("opacity-100","translate-y-0","pointer-events-auto"),g=!0):n<=200&&g&&(d.classList.add("opacity-0","translate-y-20","pointer-events-none"),d.classList.remove("opacity-100","translate-y-0","pointer-events-auto"),g=!1)})});document.addEventListener("DOMContentLoaded",()=>{const e=()=>{const s=document.querySelectorAll("[data-animate]");if(!s.length)return;const c=new IntersectionObserver(i=>{i.forEach(m=>{if(m.isIntersecting){const r=m.target,t=parseInt(r.getAttribute("data-delay")||"0",10);t>0?setTimeout(()=>r.classList.add("animate"),t):r.classList.add("animate"),c.unobserve(r)}})},{threshold:.1,rootMargin:"50px"});s.forEach(i=>c.observe(i))};"requestIdleCallback"in window?requestIdleCallback(e):setTimeout(e,100);const a=()=>{if(!(window.innerWidth<=768))return;const c=new IntersectionObserver(m=>{m.forEach(r=>{const t=r.target;if(r.isIntersecting){if(t.classList.add("mobile-scroll-active"),t.classList.contains("group")){t.style.transform="translateY(-5px) scale(1.02)",t.style.borderColor="rgba(139, 92, 246, 0.4)",t.style.boxShadow="0 10px 25px rgba(139, 92, 246, 0.15)";const d=t.querySelector("svg");d&&(d.style.transform="scale(1.1)",d.style.color="#8b5cf6")}t.classList.contains("avatar-item")&&(t.style.transform="translateY(-5px) scale(1.15)",t.style.zIndex="10"),t.classList.contains("audio-box")&&(t.style.borderColor="rgba(139, 92, 246, 0.4)",t.style.background="rgba(0, 0, 0, 0.6)",t.style.transform="scale(1.02)"),t.classList.contains("play-btn")&&(t.style.transform="scale(1.05)",t.style.boxShadow="0 6px 20px rgba(139, 92, 246, 0.4)"),(t.classList.contains("btn-lg")||t.classList.contains("button-pop"))&&(t.style.transform="scale(1.05)",t.style.boxShadow="0 8px 25px rgba(139, 92, 246, 0.3)"),t.classList.contains("student-review-avatar")&&(t.style.borderColor="rgba(139, 92, 246, 0.8)",t.style.boxShadow="0 0 15px rgba(139, 92, 246, 0.5)",t.style.transform="scale(1.1)")}else{if(t.classList.remove("mobile-scroll-active"),t.classList.contains("group")){t.style.transform="",t.style.borderColor="",t.style.boxShadow="";const d=t.querySelector("svg");d&&(d.style.transform="",d.style.color="")}t.classList.contains("avatar-item")&&(t.style.transform="",t.style.zIndex=""),t.classList.contains("audio-box")&&(t.style.borderColor="",t.style.background="",t.style.transform=""),t.classList.contains("play-btn")&&(t.style.transform="",t.style.boxShadow=""),(t.classList.contains("btn-lg")||t.classList.contains("button-pop"))&&(t.style.transform="",t.style.boxShadow=""),t.classList.contains("student-review-avatar")&&(t.style.borderColor="",t.style.boxShadow="",t.style.transform="")}})},{threshold:.3,rootMargin:"0px 0px -50px 0px"});[...document.querySelectorAll(".group"),...document.querySelectorAll(".avatar-item"),...document.querySelectorAll(".audio-box"),...document.querySelectorAll(".play-btn"),...document.querySelectorAll(".btn-lg"),...document.querySelectorAll(".button-pop"),...document.querySelectorAll(".student-review-avatar")].forEach(m=>{m.style.transition="all 0.3s ease",c.observe(m)})};a();let l;window.addEventListener("resize",()=>{clearTimeout(l),l=setTimeout(()=>{a()},250)})});class x{constructor(){this.storageKey="remainingSpots",this.minSpots=2,this.maxSpots=6}getSpotsLeft(){const a=localStorage.getItem(this.storageKey);if(a===null){const l=Math.floor(Math.random()*(this.maxSpots-this.minSpots+1))+this.minSpots;return localStorage.setItem(this.storageKey,l.toString()),l}return parseInt(a)}decrementSpots(){const a=this.getSpotsLeft(),l=Math.max(this.minSpots,a-1);return localStorage.setItem(this.storageKey,l.toString()),l}getTodaysDate(){const a={month:"long",day:"numeric"};return new Date().toLocaleDateString("en-US",a)}updateSpotsDisplay(a,l=null){const s=document.getElementById(a);if(s){const c=l||this.getSpotsLeft();s.textContent=c.toString()}}updateSpotsWithDate(a,l=null){const s=document.getElementById(a);if(s){const c=l||this.getSpotsLeft(),i=this.getTodaysDate();s.textContent=`${c} spots left as of ${i}`}}initializeSpots(){const a=this.getSpotsLeft();return this.updateSpotsDisplay("spots-left-offer",a),this.updateSpotsDisplay("spots-left-mobile",a),this.updateSpotsDisplay("exit-intent-spots",a),a}}window.spotsManager=new x;
